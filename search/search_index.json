{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome to Christo's Datasheet","text":"Christo Jomon Joseph's Datasheet as part of  ProjectX for  Team 305  <p>Submission: January, 18, 2025 </p><p></p>","tags":["tag1","tag2"]},{"location":"#introduction","title":"Introduction","text":"<ul> <li>This is Christo's datasheet for EGR 314.</li> <li>I am a part of Team 305</li> </ul>","tags":["tag1","tag2"]},{"location":"#project-summary","title":"Project Summary","text":"<ul> <li>This needs to be updated to reflect your version of the team project, so when shared not via the team's report, the reader gets an idea of the direction of the project and how your work will contribute to the overall success.</li> <li>Get more details on my project at the team report.</li> </ul>","tags":["tag1","tag2"]},{"location":"#my-contribution","title":"My Contribution","text":"<ul> <li>This needs to be updated to reflect a team introduction</li> <li>Content should also help an unfamiliar reader navigate to areas of interest. Information like:</li> </ul> <p>To review the details listed of the material used to construct the subsection, you can review it in the \"BOM\" section of the datasheet.</p> <p>Continue for all the remaining/missing sections.</p>","tags":["tag1","tag2"]},{"location":"01-Requirements/Requirements/","title":"Module's Requirements","text":""},{"location":"01-Requirements/Requirements/#module-requirements","title":"Module Requirements","text":"<p>The HMI &amp; System Safety Board provides the primary local human-machine interface for the rover and acts as a safety critical subsystem. It is responsible for displaying real time system status and handling user input. The board also monitors power health and enforces emergency shutdown and fail safe behaviour so that the rover can be brought to a safe state when needed. The board integrates into the rover\u2019s daisy-chained UART communication network. It must not disrupt message flow under any operating condition so that commands and telemetry continue to move correctly between all subsystems.</p>"},{"location":"01-Requirements/Requirements/#hmi-system-safety-requirements","title":"HMI &amp; System Safety Requirements","text":"Requirement Description Measure of Threshold (Minimum) Target Measure / Stretch Stretch (Y/N) Standalone PCB Implemented as a single modular board Custom standalone PCB Daisy-chain compatible design No Visual Interface Displays rover and subsystem status Monochrome OLED \u22651.3\" high-contrast display No User Input Manual control and menu navigation \u22654 tactile pushbuttons Debounced multi-button UI No Emergency Stop Immediate rover shutdown capability Hard-wired E-Stop input Hardware-latched E-Stop with status LED No Fail-Safe Control Safe state on fault or E-Stop Software-based halt command Hardware + software redundancy No Power Monitoring Monitor rover power health Voltage sensing on 9 V rail Voltage + current monitoring Yes Microcontroller Central control and communication SMD MCU with UART and I2C ESP32 or PIC with dual UART No UART Communication Daisy-chain data handling UART TX/RX operational Full command + telemetry handling No Message Forwarding Maintain bus integrity Non-addressed messages forwarded Reliable forwarding under load No Status Telemetry Local system reporting Display local board status Display telemetry from other subsystems Yes Alert System Notify user of faults Visual alerts on display Audible buzzer for critical states Yes Power Input External power acceptance 9 V input supported Reverse-polarity protected input No Regulation Local voltage regulation Regulated 3.3 V output Stable 3.3 V switching regulator \u2265500 mA No Operating Conditions Indoor lab operation Room temperature 0\u201340 \u00b0C operation No Programming Interface Firmware loading and debug ICSP or USB interface Onboard USB debug No"},{"location":"02-Block-Diagram/Block-Diagram/","title":"Module's Block Diagram","text":"","tags":["tag1","tag2"]},{"location":"02-Block-Diagram/Block-Diagram/#block-diagram","title":"Block Diagram","text":"<p>This block diagram shows the Human Machine Interface Device for Team 305, featuring an ESP32 as the central processor, an LCD interfaced via I2C, upstream and downstream headers for interconnection, a red LED output, and a 12V-to-3.3V power supply chain.</p> <p></p> <p>Download: Download the PNG here</p>","tags":["tag1","tag2"]},{"location":"03-Component-Selection/Major-Components/Major-Components/","title":"Component Selection","text":""},{"location":"03-Component-Selection/Major-Components/Major-Components/#major-components","title":"Major Components","text":"<p>These are the parts selected for the main parts on the HMI board.</p>"},{"location":"03-Component-Selection/Major-Components/Major-Components/#33v-power-regulator","title":"3.3V Power Regulator","text":"<ol> <li> <p>LM2596S-3.3 - 3A Switching Regulator</p> <p></p> <ul> <li>~$8.76</li> <li>DigiKey Link</li> </ul> Pros Cons Handles 3A which is way more than ESP32 needs Takes up more board space (TO-263 package) Switching design stays cool and efficient Needs extra parts like inductors and caps Works with 9V input from our power supply More complex circuit design Doesn't waste power as heat </li> <li> <p>AMS1117-3.3 - 1A Linear Regulator</p> <p></p> <ul> <li>~$0.29</li> <li>DigiKey Link</li> </ul> Pros Cons Super cheap and easy to find Gets hot with big voltage drops Simple circuit with just a couple caps Only handles 1A max current Common on ESP32 boards already Wastes power as heat (not efficient) SOT-223 package is small </li> <li> <p>AP2112K-3.3 - 600mA Low Dropout Regulator</p> <p></p> <ul> <li>~$0.22</li> <li>DigiKey Link</li> </ul> Pros Cons Really cheap at under 50 cents Only 600mA might be tight for ESP32 with display Tiny SOT-25 package saves board space Lower current limit than other options Low dropout means works with lower input voltage Linear regulator so still wastes some power Good for low power stuff </li> </ol> <p>Choice: Option 1 - LM2596S-3.3 Switching Regulator</p> <p>Rationale: The LM2596S-3.3 can handle 3A which gives us plenty of headroom for the ESP32 plus the TFT LCD backlight and any extras. Since we're coming from a 9V supply the switching design keeps things efficient and doesn't turn all that voltage drop into heat like the linear regulators do. Yeah it needs more external components and takes up more board space but for a safety board that's monitoring power and running the HMI we want something reliable that won't overheat. The AMS1117 is tempting because it's cheap and simple but it'll get pretty hot stepping down from 9V to 3.3V especially if the ESP32 is doing WiFi stuff. The AP2112K is too limited at 600mA since the ESP32 can pull spikes above that when transmitting and we've got the TFT pulling current for the backlight too.</p>"},{"location":"03-Component-Selection/Major-Components/Major-Components/#hmi-display","title":"HMI Display","text":"<ol> <li> <p>SparkFun COM-28380 - 3.2\" Color TFT Touchscreen (ILI9341)</p> <p></p> <ul> <li>$19.95</li> <li>DigiKey Link</li> </ul> Pros Cons Bigger at 3.2\" so more room for rover data SPI uses 5 pins instead of 2 for I2C Color display for status (red errors, green good, yellow warnings) Draws more current than OLED 320x240 resolution fits lots of info Takes up more board space Touchscreen so we can ditch some buttons Same price as smaller displays ILI9341 chip works great with ESP32 </li> <li> <p>Adafruit 2478 - 2.4\" TFT LCD with Touchscreen (ILI9341)</p> <p></p> <ul> <li>$29.95</li> <li>DigiKey Link</li> </ul> Pros Cons Color display makes status way clearer More expensive at $30 240x320 pixels gives room for info Smaller than SparkFun at 2.4\" Good Adafruit libraries and support Uses more power than OLED MicroSD slot for logging </li> <li> <p>Adafruit 938 - 1.3\" Monochrome OLED (SSD1306)</p> <p></p> <ul> <li>$19.95</li> <li>DigiKey Link</li> </ul> Pros Cons High contrast monochrome is easy to read Only black and white so can't color-code status Uses way less power than TFT Tiny at 1.3\" and only 128x64 pixels I2C only needs 2 pins Hard to fit rover data plus menus on small screen STEMMA QT makes wiring clean </li> </ol> <p>Choice: Option 1 - SparkFun COM-28380 3.2\" Color TFT</p> <p>Rationale: The SparkFun 3.2\" display is the sweet spot - bigger screen than the Adafruit 2.4\" but same price at $20.  The ILI9341 controller has tons of ESP32 libraries and examples so getting it running is easy. Touchscreen means we can do a better UI than just buttons. Yeah SPI takes more pins than I2C but the ESP32 has GPIO to spare.</p>"},{"location":"03-Component-Selection/Microcontroller/Microcontroller/","title":"Microcontroller Selection","text":""},{"location":"03-Component-Selection/Microcontroller/Microcontroller/#microcontroller-selection-esp32","title":"Microcontroller Selection - ESP32","text":""},{"location":"03-Component-Selection/Microcontroller/Microcontroller/#what-we-need","title":"What We Need","text":"<p>For the HMI &amp; System Safety Board we need a microcontroller that can handle: - 1x SPI bus for the TFT LCD display - 2x UART (one for daisy-chain in, one for daisy-chain out) - GPIO for 4 pushbuttons (or touchscreen if we use that instead) - GPIO for E-Stop input - GPIO for status LEDs - Power monitoring (ADC input for voltage sensing)</p>"},{"location":"03-Component-Selection/Microcontroller/Microcontroller/#esp32-s3-wroom-1-vs-alternatives","title":"ESP32-S3-WROOM-1 vs Alternatives","text":"Microcontroller Pros Cons Price ESP32-S3-WROOM-1 WiFi/Bluetooth built in, tons of GPIO, multiple UART and I2C Bigger footprint, uses more power ~$5.49 PIC18F47K42 Cheaper, lower power, good for simple tasks No WiFi, fewer libraries ~$2.79 ESP8266 WiFi, cheap, small Limited GPIO, older, less powerful ~$5"},{"location":"03-Component-Selection/Microcontroller/Microcontroller/#why-esp32","title":"Why ESP32","text":"<p>The ESP32-S3 has everything we need and more. It's got multiple UART ports so the daisy-chain setup is easy, hardware SPI for the TFT display, plenty of GPIO for all the buttons and LEDs and has built-in ADC for monitoring the 9V power rail. Plus if we ever want to add WiFi telemetry later it's already there.</p>"},{"location":"03-Component-Selection/Microcontroller/Microcontroller/#esp32-s3-pinout","title":"ESP32-S3 Pinout","text":""},{"location":"03-Component-Selection/Microcontroller/Microcontroller/#pin-allocation-table","title":"Pin Allocation Table","text":"Function ESP32 Pin Notes UART TX (to next board) GPIO43 Daisy-chain output UART RX (from prev board) GPIO44 Daisy-chain input SPI MOSI (TFT Data) GPIO11 TFT LCD data out SPI MISO (TFT Data) GPIO13 TFT LCD data in (for touchscreen) SPI SCK (TFT Clock) GPIO12 TFT LCD clock TFT CS (Chip Select) GPIO10 TFT LCD select TFT DC (Data/Command) GPIO9 TFT LCD data/command Button 1 (Up) GPIO1 Menu navigation (if not using touch) Button 2 (Down) GPIO2 Menu navigation (if not using touch) Button 3 (Select) GPIO3 Menu selection (if not using touch) Button 4 (Back) GPIO4 Menu back (if not using touch) E-Stop Input GPIO5 Hardware emergency stop Status LED GPIO21 System status indicator Voltage Monitor GPIO6 (ADC) 9V rail monitoring 3.3V Power 3V3 From LM2596 regulator Ground GND Common ground"},{"location":"03-Component-Selection/Microcontroller/Microcontroller/#communication-with-other-subsystems","title":"Communication with Other Subsystems","text":"<p>Our HMI board talks to the other boards through the daisy-chain UART network:</p> Connection Protocol What It Does Motor Control Board UART (daisy-chain) Gets motor status and sends commands Sensor Board UART (daisy-chain) Pulls sensor data to show on display Power Board UART (daisy-chain) Checks battery and power levels Emergency Stop GPIO wire Direct hardware E-Stop to everything <p>Messages show up on GPIO44. If they're for us we handle them, if not we just pass them along to GPIO43 for the next board.</p> <p>Choice: ESP32-S3-WROOM-1</p> <p>Rationale: The ESP32-S3 is perfect for what we're doing right now. The dual UART makes the daisy-chain network easy to handle without any problems. Hardware SPI means the TFT LCD updates fast and smooth without bogging down the CPU. It uses more power than a PIC but we got a 3A regulator so that's not an issue.</p>"},{"location":"03-Component-Selection/Power-Budget/Power-Budget/","title":"Power Budget","text":""},{"location":"03-Component-Selection/Power-Budget/Power-Budget/#overview","title":"Overview","text":"<p>Write a overview of what you did and why you did a Power Budget.</p> <p>Capture your power budge as a image to display. Take time to get clean breaks and a well organized layout.</p> <p></p> <p></p> <p></p>"},{"location":"03-Component-Selection/Power-Budget/Power-Budget/#conclusions","title":"Conclusions","text":"<p>From the prepare Power Budget, .....</p>"},{"location":"03-Component-Selection/Power-Budget/Power-Budget/#resources","title":"Resources","text":"<p>The power budget as a PDF download is available here, and a Microsoft Excel Sheet here.</p>"},{"location":"04-BOM/BOM/","title":"Module Bill of Materials","text":"","tags":["tag1","tag2"]},{"location":"04-BOM/BOM/#overview","title":"Overview","text":"<p>Written context needs to added!</p> <p>Pick ONLY one of the two examples show below. Remove the other example. REMOVE notations within the remaining section about being an example. </p>","tags":["tag1","tag2"]},{"location":"04-BOM/BOM/#bill-of-materials-example-as-table","title":"Bill of Materials (Example as Table)","text":"<p>Table ##: An example of one approach to adding your BOM table to this section.</p> Part Name/Description Qty Unit Cost Total Cost Manufacture Manufacturer # Vendor Link Datasheet Link Schematic Reference Designators 8-bit SIPO/SISO Shift Register, SOIC-16 package 1 $0.49 $ 0.49 NXP 74HC595D,112 DigiKey datasheet link U1 0.1 \u00b5F Ceramic Capacitor, +/-10%, X7R, 50V, 0805 package 10 0.2750 $2.75 KEMET C0805F104K5RACTU PRLTA 109 n/a C2, C4, C6, C7, C8, C9, C10, C11, C12, C16 <p>Note: Setting it up as a table is nice because it is completely viewable without scaling issues. Downside is that you have to do the math.</p> <ul> <li>You could also import your BOM via a screenshot of the spreadsheet created BOM</li> </ul>","tags":["tag1","tag2"]},{"location":"04-BOM/BOM/#bill-of-materials-example-as-image","title":"Bill of Materials (Example as Image)","text":"<p> Figure ##: Example Bill of Materials as a screenshot.</p> <p>As you can see, the text can be difficult to read without opening the image.</p>","tags":["tag1","tag2"]},{"location":"04-BOM/BOM/#resouce","title":"Resouce","text":"<p>The Bill of Material as a PDF download is available here.</p>","tags":["tag1","tag2"]},{"location":"05-Schematic/schematic/","title":"Module Schematic","text":""},{"location":"05-Schematic/schematic/#overview","title":"Overview","text":"<p>This schematic is design to support .... (highlight functionally, power, and controller).</p> <p> Figure ##: Showing a example schematic.</p>"},{"location":"05-Schematic/schematic/#resouces","title":"Resouces","text":"<p>The schematic as a PDF download is available here, and the Zip folder of the project here.</p>"}]}